<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-204913605-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="LANCELOT" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-react-helmet="true">Tangos databases | LANCELOT</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://lancelotlibrary.github.io/docs/introduction/tangos"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tangos databases | LANCELOT"><meta data-react-helmet="true" name="description" content="For some cases, it is very handful to turn our halo catalogues and N-body simulation snapshots into a SQL database for further analysis. For such purpose, one may use the well-known tangos python library. Here we are going to describe the process of creation of such database in details. Firstly, one should obviously install tangos and set up variables TANGOSSIMULATIONFOLDER, TANGOSDBCONNECTION in user&#x27;s .bashrc file or CLI. Variable TANGOSSIMULATIONFOLDER contain the path to the folder with simulation snapshots, while TANGOSDBCONNECTION is the path to the database to be analysed with file extension .db or .sql. Our team uses SQLite, but there are ways to use PostgreSQL, MySQL or MariaDB (see tangos documentation for more details on the subject). Since for LANCELOT we only used &#x27;https"><meta data-react-helmet="true" property="og:description" content="For some cases, it is very handful to turn our halo catalogues and N-body simulation snapshots into a SQL database for further analysis. For such purpose, one may use the well-known tangos python library. Here we are going to describe the process of creation of such database in details. Firstly, one should obviously install tangos and set up variables TANGOSSIMULATIONFOLDER, TANGOSDBCONNECTION in user&#x27;s .bashrc file or CLI. Variable TANGOSSIMULATIONFOLDER contain the path to the folder with simulation snapshots, while TANGOSDBCONNECTION is the path to the database to be analysed with file extension .db or .sql. Our team uses SQLite, but there are ways to use PostgreSQL, MySQL or MariaDB (see tangos documentation for more details on the subject). Since for LANCELOT we only used &#x27;https"><meta data-react-helmet="true" property="og:image" content="https://lancelotlibrary.github.io/drayman/img/drayman.png"><meta data-react-helmet="true" name="twitter:image" content="https://lancelotlibrary.github.io/drayman/img/drayman.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/small_logo.svg"><link data-react-helmet="true" rel="canonical" href="https://lancelotlibrary.github.io/docs/introduction/tangos"><link data-react-helmet="true" rel="alternate" href="https://lancelotlibrary.github.io/docs/introduction/tangos" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lancelotlibrary.github.io/docs/introduction/tangos" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.41bb6a14.css">
<link rel="preload" href="/assets/js/runtime~main.4a4ece5c.js" as="script">
<link rel="preload" href="/assets/js/main.cdd184eb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><img src="/img/logo_light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo_dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/getting-started">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/data-access">Data Access</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lancelotlibrary/lancelotlibrary.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_OKON">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/getting-started">About LANCELOT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/data-access">Data Access</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/introduction/tangos">Tangos databases</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_OKON">Constraining MOGs</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Constraining MOGs/data-access">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Constraining MOGs/getting-started">Markov Chain Monte Carlo</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_OKON">Simulation setup</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulations/data-access">N-body code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulations/getting-started">Implementation of massive neutrinos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulations/getting-started (copy)">Snapshot configuration</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_OKON">Post-processing</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/data-access">Halo catalogues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started">2D/3D/bi matter power spectrum</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (copy)">Halo mass function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (another copy)">Lightcone projections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (3rd copy)">Void catalogues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (4th copy)">Convergence maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (5th copy)">ISW effects and anisotropy power spectrum</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (6th copy)">Extracting cosmic shear</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/post-processing/getting-started (7th copy)">Neutral hydrogen intensity tomography</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started (7th copy)">Authors and contacts</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">Tangos databases</h1></header><p>For some cases, it is very handful to turn our halo catalogues and N-body simulation snapshots into a SQL database for further analysis. For such purpose, one may use the well-known <a href="https://pynbody.github.io/tangos/" target="_blank" rel="noopener noreferrer">tangos</a> python library. Here we are going to describe the process of creation of such database in details. Firstly, one should obviously install <code>tangos</code> and set up variables <code>TANGOS_SIMULATION_FOLDER</code>, <code>TANGOS_DB_CONNECTION</code> in user&#x27;s <code>.bashrc</code> file or CLI. Variable <code>TANGOS_SIMULATION_FOLDER</code> contain the path to the folder with simulation snapshots, while <code>TANGOS_DB_CONNECTION</code> is the path to the database to be analysed with file extension <code>.db</code> or <code>.sql</code>. Our team uses SQLite, but there are ways to use PostgreSQL, MySQL or MariaDB (see <a href="https://pynbody.github.io/tangos/index.html" target="_blank" rel="noopener noreferrer">tangos documentation</a> for more details on the subject). Since for LANCELOT we only used &#x27;<a href="https://bitbucket.org/gfcstanford/rockstar&#x27;" target="_blank" rel="noopener noreferrer">https://bitbucket.org/gfcstanford/rockstar&#x27;</a> halo finder, we will discuss the procedures for that case only. To start, firstly it is needed to import the database:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">tangos </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> snapshot_xxx --min-particles N</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Where <code>xxx</code> refers to the snapshot number and <code>N</code> to the minimal number of particles within a single DM halo. Consequently, one can also import various halo parameters, exported from the <code>ROCKSTAR</code> halo catalogues:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">tangos import-properties Mvir Rvir X Y Z --for snapshot_xxx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>And merger-trees:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">tangos import-consistent-trees --for snapshot_xxx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now it is possible to compute wide variety of quantities, like DM halo profiles, virial radii and mass etc. (for more detailed information, refer to <a href="https://pynbody.github.io/tangos/custom_properties.html" target="_blank" rel="noopener noreferrer">tutorial</a>)</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/lancelotlibrary/lancelotlibrary.github.io/docs/introduction/tangos.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/introduction/data-access"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Data Access</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Constraining MOGs/data-access"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Motivation »</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/getting-started">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://matrix.to/#/#Lancelot_library_community:gitter.im" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/draymanio" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/draymanio" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/data-access">Data Access</a></li><li class="footer__item"><a href="https://github.com/lancelotlibrary/lancelotlibrary.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Oleksii Sokoliuk.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4a4ece5c.js"></script>
<script src="/assets/js/main.cdd184eb.js"></script>
</body>
</html>