"use strict";(self.webpackChunk_drayman_docs=self.webpackChunk_drayman_docs||[]).push([[176],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||o;return n?a.createElement(m,i(i({ref:t},p),{},{components:n})):a.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},8948:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const o={title:"Tangos databases",sidebar_position:3},i=void 0,s={unversionedId:"introduction/tangos",id:"introduction/tangos",isDocsHomePage:!1,title:"Tangos databases",description:"For some cases, it is very handful to turn our halo catalogues and N-body simulation snapshots into a SQL database for further analysis. For such purpose, one may use the well-known tangos python library. Here we are going to describe the process of creation of such database in details. Firstly, one should obviously install tangos and set up variables TANGOSSIMULATIONFOLDER, TANGOSDBCONNECTION in user's .bashrc file or CLI. Variable TANGOSSIMULATIONFOLDER contain the path to the folder with simulation snapshots, while TANGOSDBCONNECTION is the path to the database to be analysed with file extension .db or .sql. Our team uses SQLite, but there are ways to use PostgreSQL, MySQL or MariaDB (see tangos documentation for more details on the subject). Since for LANCELOT we only used 'https",source:"@site/docs/introduction/tangos.mdx",sourceDirName:"introduction",slug:"/introduction/tangos",permalink:"/docs/introduction/tangos",editUrl:"https://github.com/lancelotlibrary/lancelotlibrary.github.io/docs/introduction/tangos.mdx",version:"current",sidebarPosition:3,frontMatter:{title:"Tangos databases",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Data Access",permalink:"/docs/introduction/data-access"},next:{title:"Motivation",permalink:"/docs/Constraining MOGs/data-access"}},l=[{value:"<code>curl</code> link generator",id:"curl-link-generator",children:[]}],c={toc:l},p="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"For some cases, it is very handful to turn our halo catalogues and N-body simulation snapshots into a SQL database for further analysis. For such purpose, one may use the well-known ",(0,r.kt)("a",{parentName:"p",href:"https://pynbody.github.io/tangos/"},"tangos")," python library. Here we are going to describe the process of creation of such database in details. Firstly, one should obviously install ",(0,r.kt)("inlineCode",{parentName:"p"},"tangos")," and set up variables ",(0,r.kt)("inlineCode",{parentName:"p"},"TANGOS_SIMULATION_FOLDER"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"TANGOS_DB_CONNECTION")," in user's ",(0,r.kt)("inlineCode",{parentName:"p"},".bashrc")," file or CLI. Variable ",(0,r.kt)("inlineCode",{parentName:"p"},"TANGOS_SIMULATION_FOLDER")," contain the path to the folder with simulation snapshots, while ",(0,r.kt)("inlineCode",{parentName:"p"},"TANGOS_DB_CONNECTION")," is the path to the database to be analysed with file extension ",(0,r.kt)("inlineCode",{parentName:"p"},".db")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".sql"),". Our team uses SQLite, but there are ways to use PostgreSQL, MySQL or MariaDB (see ",(0,r.kt)("a",{parentName:"p",href:"https://pynbody.github.io/tangos/index.html"},"tangos documentation")," for more details on the subject). Since for LANCELOT we only used '",(0,r.kt)("a",{parentName:"p",href:"https://bitbucket.org/gfcstanford/rockstar'"},"https://bitbucket.org/gfcstanford/rockstar'")," halo finder, we will discuss the procedures for that case only. To start, firstly it is needed to import the database:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"tangos add snapshot_xxx --min-particles N\n")),(0,r.kt)("p",null,"Where ",(0,r.kt)("inlineCode",{parentName:"p"},"xxx")," refers to the snapshot number and ",(0,r.kt)("inlineCode",{parentName:"p"},"N")," to the minimal number of particles within a single DM halo. Consequently, one can also import various halo parameters, exported from the ",(0,r.kt)("inlineCode",{parentName:"p"},"ROCKSTAR")," halo catalogues:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"tangos import-properties Mvir Rvir X Y Z --for snapshot_xxx\n")),(0,r.kt)("p",null,"And merger-trees:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"tangos import-consistent-trees --for snapshot_xxx\n")),(0,r.kt)("p",null,"Now it is possible to compute wide variety of quantities, like DM halo profiles, virial radii and mass etc. (for more detailed information, refer to ",(0,r.kt)("a",{parentName:"p",href:"https://pynbody.github.io/tangos/custom_properties.html"},"tutorial"),")"),(0,r.kt)("h2",{id:"curl-link-generator"},(0,r.kt)("inlineCode",{parentName:"h2"},"curl")," link generator"),(0,r.kt)("p",null,"For each snapshot and simulation we also created corresponding ",(0,r.kt)("inlineCode",{parentName:"p"},"tangos")," databases and extracted merger trees. Following the procedure, used in the last section, here we also are going to introduce the ",(0,r.kt)("inlineCode",{parentName:"p"},"curl")," link generator."),(0,r.kt)("div",{class:"row"},(0,r.kt)("div",{class:"column3"},(0,r.kt)("div",{class:"centered2"},(0,r.kt)("b",null,"MOG/neutrino toggles\u2003\u2003\u2003\u2003\u2003\u2003")),(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"fq"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"TEGR"))),"\xa0",(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"ft"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"STEGR"))),"\xa0",(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"fr"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"Palatini"))),"\xa0",(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"nu"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"Neutrino Inclusion")))),(0,r.kt)("div",{class:"column3"},(0,r.kt)("div",{class:"centered2"},(0,r.kt)("b",null,"Post-processing data\u2003\u2003\u2003\u2003\u2003\u2003")),(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"merger"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"Merger trees"))),"\xa0",(0,r.kt)("label",{class:"switch"},(0,r.kt)("input",{type:"checkbox",id:"tangos"}),(0,r.kt)("div",null,(0,r.kt)("span",null,"tangos database")))),(0,r.kt)("div",{class:"column4"},(0,r.kt)("div",{class:"centered2"},(0,r.kt)("b",null,"Redshift Slider")),(0,r.kt)("input",{type:"range",defaultValue:"49",id:"redshift",name:"redshift",max:"129",min:"0"}),(0,r.kt)("div",{class:"centered"},"Redshift: ",(0,r.kt)("output",{for:"redshift",onforminput:"value = redshift.valueAsNumber;"},"49")))))}u.isMDXComponent=!0}}]);